# Написать функцию hotel_booking(hotel), которая:
# 	1.	Спрашивает у пользователя имя и количество гостей.
# 	2.	Позволяет бронировать номера (пока не введёт стоп).
# 	3.	Если категории номера нет → «Такого номера нет».
# 	4.	Если мест нет → «Номеров больше нет».
# 	5.	Если количество гостей больше, чем вместимость номера → «Слишком много гостей для этого номера».
# 	6.	Если всё ок → спросить количество ночей и оформить бронирование.
# 	•	Цена = стоимость номера × число ночей.
# 	•	Количество свободных мест уменьшается.
# 	•	Добавить бронь в список.
# 	7.	Если сумма всех броней больше 20000 сом, то скидка 15%.
# 	8.	В конце вывести:
# 	•	список бронирований (номер, ночи, цена),
# 	•	общую сумму,
# 	•	остаток номеров по категориям
def hotel_booking(hotel):
    bookings = []
    total_price = 0

    name = input("Введите ваше имя: ")
    while True:
        try:
            total_guests = int(input("Введите количество гостей: "))
            if total_guests <= 0:
                print("Количество гостей должно быть положительным числом.")
                continue
            break
        except ValueError:
            print("Введите корректное число гостей.")

    while True:
        room_type = input("Введите категорию номера для бронирования (или 'стоп' для выхода): ")
        if room_type.lower() == "стоп":
            break

        if room_type not in hotel:
            print("Такого номера нет.")
            continue

        room_info = hotel[room_type]
        if room_info["места"] <= 0:
            print("Номеров больше нет.")
            continue

        if total_guests > room_info["макс_гостей"]:
            print("Слишком много гостей для этого номера.")
            continue

        while True:
            try:
                nights = int(input("Введите количество ночей (максимум 60): "))
                if nights <= 0:
                    print("Количество ночей должно быть положительным числом.")
                    continue
                if nights > 60:
                    print("Максимальное количество ночей — 60.")
                    continue
                break
            except ValueError:
                print("Введите корректное число ночей.")

        price = room_info["цена"] * nights
        bookings.append({"номер": room_type, "ночи": nights, "цена": price})
        total_price += price
        room_info["места"] -= 1
        print(f"Бронирование успешно: {room_type}, {nights} ночей, цена {price} сом.")

    if total_price > 20000:
        discount = total_price * 0.15
        total_price -= discount
        print(f"\nВаша скидка 15%: -{discount:.2f} сом.")

    print("\nСписок бронирований:")
    for b in bookings:
        print(f"Номер: {b['номер']}, Ночей: {b['ночи']}, Цена: {b['цена']} сом")

    print(f"\nОбщая сумма: {total_price:.2f} сом")
    print("\nОстаток номеров по категориям:")
    for k, v in hotel.items():
        print(f"{k}: {v['места']}")

hotel = {
    "Стандарт": {"цена": 3000, "места": 5, "макс_гостей": 2},
    "Комфорт": {"цена": 5000, "места": 3, "макс_гостей": 3},
    "Люкс": {"цена": 10000, "места": 2, "макс_гостей": 4}
}

hotel_booking(hotel) 